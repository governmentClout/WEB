(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{551:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=(a(565),a(567)),l=a(80),i=a.n(l),s=a(623),c=(a(563),a(152)),u=a(918),m=a(603);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=function(e){function t(){var e,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,o=h(t).call(this),e=!o||"object"!==p(o)&&"function"!==typeof o?g(a):o,v(g(g(e)),"errorToast",null),v(g(g(e)),"notify",function(t){e.errorToast&&m.toast.dismiss(e.errorToast),e.errorToast=m.toast.error("Profile Not created ",{position:m.toast.POSITION.TOP_LEFT,autoClose:!1})}),v(g(g(e)),"noPhoto",function(){e.errorToast&&m.toast.dismiss(e.errorToast),e.errorToast=m.toast.error("Please select a picture ",{position:m.toast.POSITION.TOP_LEFT,autoClose:!1})}),v(g(g(e)),"shouldShowModal",function(t){e.setState({showModal:!0,uploadType:t})}),v(g(g(e)),"shouldHideModal",function(){e.setState({showModal:!1})}),v(g(g(e)),"fileSelected",function(t){e.setState({selectedFile:t.target.files[0],loaded:0})}),e.state={showModal:!1,uploadType:"",fname:"",lname:"",nationality_origin:"",nationality_residence:"",state:"",lgas:[],lga:"",photo:"",phone:"",allStates:[],loading:!1,countries:[],email:"",isNigerian:!1,selectedFile:null,loaded:0,redirect:!1},e.onChange=e.onChange.bind(g(g(e))),e.createProfile=e.createProfile.bind(g(g(e))),e}var a,l,y;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o["Component"]),a=t,(l=[{key:"componentDidMount",value:function(){var e=this,t="".concat(c.a,"/users/").concat(sessionStorage.getItem("uuid"));i()({method:"get",url:t,headers:{token:sessionStorage.getItem("token"),uuid:sessionStorage.getItem("uuid")}}).then(function(t){e.setState({phone:t.data[0].phone,email:t.data[0].email})}),i.a.get("http://locationsng-api.herokuapp.com/api/v1/states").then(function(t){var a=t.data.map(function(e){return e});e.setState({allStates:a})}).catch(function(e){console.log(e)})}},{key:"onChange",value:function(e){var t,a;("state"==e.target.name&&this.displayLga(e.target.value),"Nigeria"===this.state.nationality_origin)?this.setState((v(t={},e.target.name,e.target.value),v(t,"isNigerian",!0),t)):this.setState((v(a={},e.target.name,e.target.value),v(a,"isNigerian",!1),a))}},{key:"componentWillMount",value:function(){this.getCountries(),this.getStates()}},{key:"getStates",value:function(){var e=this;i.a.get("http://locationsng-api.herokuapp.com/api/v1/states").then(function(t){e.setState({allStates:t.data})}).catch(function(e){return console.log(e)})}},{key:"getCountries",value:function(){var e=this;i()({method:"get",url:"https://restcountries.eu/rest/v2/all"}).then(function(t){e.setState({countries:t.data})}).catch(function(e){console.log(e)})}},{key:"createProfile",value:function(e){var t=this;this.setState({loading:!0}),e.preventDefault();var a=sessionStorage.getItem("uuid"),o=sessionStorage.getItem("token");if(null!==this.state.selectedFile){var n=this.state.selectedFile,r=new FormData;r.append("file",n),r.append("upload_preset","".concat(c.b)),i()({url:"".concat(c.c),method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r,onUploadProgress:function(e){console.log(e.loaded/e.total),t.setState({loaded:ProgressEvent.loaded/ProgressEvent.total*1})}}).then(function(e){console.log(e.data),t.setState({preview:e.data.secure_url});var n={firstName:t.state.fname,lastName:t.state.lname,nationality_residence:t.state.nationality_residence,nationality_origin:t.state.nationality_origin,state:t.state.state,lga:t.state.lga,photo:e.data.secure_url};console.log(n),i()({method:"post",url:"".concat(c.a,"/profiles"),data:n,mode:"no-cors",headers:{"Content-Type":"application/json;charset=utf-8",token:o,uuid:a}}).then(function(e){console.log(e.data),t.setState({loading:!1,redirect:!0})}).catch(function(e){console.log(e),t.notify(e),t.setState({loading:!1})})})}else this.noPhoto(),this.setState({loading:!1})}},{key:"displayLga",value:function(e){var t=this;i()({method:"get",url:"http://locationsng-api.herokuapp.com/api/v1/states/".concat(e,"/lgas")}).then(function(e){t.setState({lgas:e.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return 1==this.state.redirect?n.a.createElement(u.a,{to:"/"}):n.a.createElement("div",null,n.a.createElement("div",{className:"auth-page d-flex"},n.a.createElement(r.a,null),n.a.createElement("div",{className:"authy"},n.a.createElement("div",{className:"m-auto col-lg-7 col-md-8  bg-white px-0"},n.a.createElement("div",{className:"profile-cover-image-wrapper edit"},n.a.createElement("img",{className:"profile-cover-image",src:"../cover.svg",alt:"cover"}),n.a.createElement("button",{className:"floating-edit-button-wrapper",onClick:function(){return e.shouldShowModal("Cover Photo")}},n.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.875 16.9032V21.122H5.09375L17.5362 8.67945L13.3175 4.4607L0.875 16.9032ZM20.7987 5.41695C21.2375 4.9782 21.2375 4.26945 20.7987 3.8307L18.1663 1.1982C17.7275 0.759453 17.0187 0.759453 16.58 1.1982L14.5212 3.25695L18.74 7.4757L20.7987 5.41695Z",fill:"white"})))),n.a.createElement("div",{className:"col-md-10 mx-auto"},n.a.createElement("form",{onSubmit:this.createProfile},n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",null,n.a.createElement("div",{className:"lifted-profile-image-wrapper edit"},n.a.createElement("img",{className:"lifted-profile-image",src:"https://res.cloudinary.com/plushdeveloper/image/upload/v1540898186/profile_eyjfnd.jpg",alt:"profile"}),n.a.createElement("img",{className:"lifted-profile-image",alt:"profile",src:this.state.preview})),n.a.createElement("input",{type:"file",ref:function(t){return e.fileInput=t},onChange:this.fileSelected,style:{display:"none"}}),n.a.createElement("button",{className:"floating-edit-button-wrapper --profile-picture",onClick:function(){return e.fileInput.click()}},n.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M0.875 16.9032V21.122H5.09375L17.5362 8.67945L13.3175 4.4607L0.875 16.9032ZM20.7987 5.41695C21.2375 4.9782 21.2375 4.26945 20.7987 3.8307L18.1663 1.1982C17.7275 0.759453 17.0187 0.759453 16.58 1.1982L14.5212 3.25695L18.74 7.4757L20.7987 5.41695Z",fill:"white"}))))),n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"form-group col-md left"},n.a.createElement("label",{htmlFor:"Fname"},"First Name"),n.a.createElement("input",{name:"fname",className:"form-control",type:"text",value:this.state.fname,onChange:this.onChange,placeholder:this.props.userFirstName,required:!0})),n.a.createElement("div",{className:"form-group col-md right"},n.a.createElement("label",{htmlFor:"lname"},"Last Name"),n.a.createElement("input",{name:"lname",className:"form-control",type:"text",placeholder:this.props.userLastName,value:this.state.lname,onChange:this.onChange,required:!0}))),n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"form-group col-md left"},n.a.createElement("label",{htmlFor:"email"},"Email address"),n.a.createElement("input",{name:"email",className:"form-control",type:"email",placeholder:this.props.email,value:this.state.email,onChange:this.onChange,required:!0})),n.a.createElement("div",{className:"form-group col-md right"},n.a.createElement("label",{htmlFor:"phone"},"Phone Number"),n.a.createElement("input",{name:"phone",className:"form-control",type:"tel",placeholder:this.props.phone,value:this.state.phone,onChange:this.onChange,required:!0}))),n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"form-group col-md left"},n.a.createElement("label",{htmlFor:"nationality_residence"},"Country of Residence"),n.a.createElement("select",{name:"nationality_residence",className:"form-control",value:this.state.nationality_residence,onChange:this.onChange,required:!0},this.state.countries.map(function(e){return n.a.createElement("option",{value:e.name,key:e.name},e.name)}))),n.a.createElement("div",{className:"form-group col-md right"},n.a.createElement("label",{htmlFor:"nationality_origin"},"Country of Origin"),n.a.createElement("select",{name:"nationality_origin",className:"form-control",value:this.state.nationality_origin,onChange:this.onChange,required:!0},this.state.countries.map(function(e){return n.a.createElement("option",{value:e.name,key:e.name},e.name)})))),"Nigeria"===this.state.nationality_origin?n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"form-group col-md left"},n.a.createElement("label",{htmlFor:"state"},"State"),n.a.createElement("select",{onChange:this.onChange,name:"state",valu:this.state.state,className:"form-control"},this.state.allStates.map(function(e){return n.a.createElement("option",{value:e.name,key:e.name},e.name)}))),n.a.createElement("div",{className:"form-group col-md right"},n.a.createElement("label",{htmlFor:"state"},"LGA"),n.a.createElement("select",{onChange:this.onChange,name:"lga",className:"form-control",value:this.state.lga},this.state.lgas.map(function(e){return n.a.createElement("option",{value:e,key:e},e)})))):"",n.a.createElement("div",{className:"d-flex mb-4"},n.a.createElement("button",{className:"btn btn-gclout-blue mb-4",type:"submit"},this.state.loading?n.a.createElement("i",{className:"fas fa-circle-notch fa-spin"}):"Save"))))))),n.a.createElement(m.ToastContainer,null),n.a.createElement(s.a,{show:this.state.showModal,handleClose:this.shouldHideModal,uploadType:this.state.uploadType}))}}])&&d(a.prototype,l),y&&d(a,y),t}();t.default=y},563:function(e,t,a){},565:function(e,t,a){},567:function(e,t,a){"use strict";var o=a(0),n=a.n(o);a(568);function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){function t(e){var a,o,n,l,i,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=!(n=s(t).call(this,e))||"object"!==r(n)&&"function"!==typeof n?u(o):n,l=u(u(a)),c=function(e){if(Array.isArray(e)||e.length>0){for(var t=e.slice(),a=0;a<t.length;a++){var o=Math.trunc(Math.random()*t.length),n=t[o];t[o]=t[a],t[a]=n}return t}return[]},(i="rearrangeArray")in l?Object.defineProperty(l,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[i]=c,a.state={imagesList:[],shuffleList:["https://res.cloudinary.com/plushdeveloper/image/upload/v1538884672/gclout/1.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884671/gclout/2.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884668/gclout/16.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884667/gclout/15.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884664/gclout/13.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884663/gclout/12.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884661/gclout/11.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884660/gclout/9.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884663/gclout/12.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884655/gclout/7.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884654/gclout/4.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884655/gclout/5.png"],bottomImages:["https://res.cloudinary.com/plushdeveloper/image/upload/v1538884671/gclout/3.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884666/gclout/14.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884661/gclout/10.png","https://res.cloudinary.com/plushdeveloper/image/upload/v1538884655/gclout/6.png"]},a}var a,m,p;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["Component"]),a=t,(m=[{key:"componentDidMount",value:function(){var e=this.rearrangeArray(this.state.shuffleList);[e].concat(l(this.state.bottomImages));this.setState({imagesList:e})}},{key:"render",value:function(){return n.a.createElement("div",{className:"d-flex align-items-stretch flex-wrap no-gutters auth-bg"},n.a.createElement("div",{className:"auth-bg-overlay"}),this.state.imagesList.map(function(e,t){return n.a.createElement("div",{className:"col-md-3 col-sm-4 col-6 authBg",key:"key-"+t},n.a.createElement("img",{src:e,alt:"bg-image-"+t,className:"img-fluid"}))}))}}])&&i(a.prototype,m),p&&i(a,p),t}();t.a=m},568:function(e,t,a){},623:function(e,t,a){"use strict";var o=a(0),n=a.n(o);a(624);t.a=function(e){var t=e.handleClose,a=e.show,o=e.uploadType,r=a?"upload-modal d-block opa-1":"upload-modal d-none opa-0";return n.a.createElement("div",{className:r},n.a.createElement("section",{className:"modal-main text-center"},n.a.createElement("div",{className:"btn-upload-wrapper"},n.a.createElement("button",{className:"btn-upload"},"Upload your ",o),n.a.createElement("input",{type:"file",name:"myFile"})),n.a.createElement("div",{className:"d-flex mx-auto"},n.a.createElement("button",{className:"btn btn-gclout-dark",type:"button",style:{marginRight:"10px"},onClick:t},"Cancel"),n.a.createElement("button",{className:"btn btn-gclout-blue",type:"submit",style:{marginLeft:"10px"}},"Save"))))}},624:function(e,t,a){}}]);
//# sourceMappingURL=CreateProfile.fb7db1e4.chunk.js.map