{"version":3,"sources":["components/config.js","components/authBackground/authBackground.jsx","pages/auth/login.jsx"],"names":["__webpack_require__","d","__webpack_exports__","API_URL","CLOUDINARY_URL","CLOUDINARY_UPLOAD_PRESET","AuthBackground","props","_this","_classCallCheck","this","_getPrototypeOf","call","_assertThisInitialized","data","Array","isArray","length","tempArr","slice","i","swapIndex","Math","trunc","random","tmp","state","imagesList","shuffleList","bottomImages","Component","temArr","rearrangeArray","setState","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","className","map","imageUrl","index","key","src","alt","Login","_defineProperty","error","errorToast","toast","dismiss","response","status","position","POSITION","TOP_LEFT","autoClose","email","password","loading","redirectToReferrer","signin","bind","ev","target","name","value","_this2","preventDefault","provider","url","concat","axios","method","headers","Content-Type","then","responseJSON","f","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","that","login","user","stop","apply","arguments","sessionStorage","setItem","uuid","token","JSON","stringify","catch","notify","res","type","_this3","w3","U3","_ref2","_callee2","_context2","_this4","responseGoogle","console","log","from","location","pathname","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","_components_authBackground_authBackground__WEBPACK_IMPORTED_MODULE_2__","onSubmit","postData","htmlFor","placeholder","onChange","dataChange","required","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","style","width","react_google_login__WEBPACK_IMPORTED_MODULE_8___default","clientId","buttonText","onSuccess","onFailure","react_toastify__WEBPACK_IMPORTED_MODULE_6__"],"mappings":"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","file":"static/js/Login.25abb992.chunk.js","sourcesContent":["export const API_URL = 'http://api.gclout.com:3000';\nexport const CLOUDINARY_URL = 'https://api.cloudinary.com/v1_1/xyluz/image/upload';\nexport const CLOUDINARY_UPLOAD_PRESET = 'bbhcijzf';","import React, { Component } from \"react\";\nimport \"./authBackground.css\";\n\nclass AuthBackground extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imagesList: [],\n      shuffleList: [\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884672/gclout/1.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884671/gclout/2.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884668/gclout/16.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884667/gclout/15.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884664/gclout/13.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884663/gclout/12.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884661/gclout/11.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884660/gclout/9.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884663/gclout/12.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884655/gclout/7.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884654/gclout/4.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884655/gclout/5.png\",\n      ],\n      bottomImages: [\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884671/gclout/3.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884666/gclout/14.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884661/gclout/10.png\",\n        \"https://res.cloudinary.com/plushdeveloper/image/upload/v1538884655/gclout/6.png\"\n      ]\n    }\n  }\n  rearrangeArray = (data) => {\n\n    if (Array.isArray(data) || data.length > 0) {\n\n        let tempArr = data.slice();\n\n        for (let i = 0; i < tempArr.length; i++) {\n            let swapIndex = Math.trunc(Math.random() * tempArr.length);\n            let tmp = tempArr[swapIndex];\n            tempArr[swapIndex] = tempArr[i];\n            tempArr[i] = tmp;\n        }\n        return tempArr;\n    }\n    return [];\n  }\n  componentDidMount() {\n    const temArr = this.rearrangeArray(this.state.shuffleList);\n    // const fullArr = [temArr, ...this.state.bottomImages];\n    this.setState({\n      imagesList: temArr\n    })\n  }\n\n  render() {\n    \n    return (\n      <div className=\"d-flex align-items-stretch flex-wrap no-gutters auth-bg\">\n        <div className=\"auth-bg-overlay\" />\n        {this.state.imagesList.map((imageUrl, index) => (\n          <div className=\"col-md-3 col-sm-4 col-6 authBg\" key={\"key-\" + index}>\n            <img\n              src={imageUrl}\n              alt={\"bg-image-\" + index}\n              className=\"img-fluid\"\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default AuthBackground;\n","import React, { Component } from \"react\";\nimport \"../../assets/css/auth.css\";\nimport AuthBackground from \"./../../components/authBackground/authBackground\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport GoogleLogin from \"react-google-login\";\nimport { API_URL } from \"../../components/config\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      loading: false,\n      redirectToReferrer: false\n    };\n    this.signin = this.signin.bind(this);\n  }\n\n  dataChange(ev) {\n    this.setState({\n      [ev.target.name]: ev.target.value\n    });\n  }\n\n  postData(ev) {\n    ev.preventDefault();\n    this.setState({ loading: true });\n    const email = this.state.email,\n      password = this.state.password,\n      provider = \"email\",\n      data = {\n        email,\n        password,\n        provider\n      },\n      url = `${API_URL}/login`;\n\n    axios({\n      method: \"post\",\n      url: url,\n      data: data,\n      headers: {\n        \"Content-Type\": \"text/plain;charset=utf-8\"\n      }\n    })\n      .then(response => {\n        let responseJSON = response\n        if (responseJSON.data) {\n          sessionStorage.setItem(\"uuid\", responseJSON.data.user.uuid);\n          sessionStorage.setItem(\"token\", responseJSON.data.user.token);\n          sessionStorage.setItem(\"data\", JSON.stringify(responseJSON));\n          let that = this;\n          async function f() {\n            that.props.login(responseJSON.data.user)\n          }\n          f().then(that.setState(() => ({\n            redirectToReferrer: true\n          })))\n        }\n      })\n      .catch(error => {\n        this.notify(error);\n        this.setState({ loading: false });\n      });\n  }\n\n  signin(res, type) {\n    if (type === \"google\" && res.w3.U3) {\n      const data = {\n        provider: type,\n        email: res.w3.U3\n      };\n      const url = \"http://api.gclout.com:3000/login\";\n      axios({\n        method: 'post',\n        url: url,\n        data: data,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n        }\n      })\n        .then(response => {\n          if (response.data) {\n            sessionStorage.setItem(\"data\", JSON.stringify(response));\n            let that = this;\n            async function f() {\n              that.props.login(response.data.user)\n            }\n            f().then(that.setState(() => ({\n              redirectToReferrer: true\n            })))\n          }\n        })\n        .catch(error => {\n          this.notify(error);\n          this.setState({\n            loading: false\n          });\n        });\n    }\n  }\n  errorToast = null;\n  notify = error => {\n    if (this.errorToast) {\n      toast.dismiss(this.errorToast);\n    }\n    if (error.response.status === 404) {\n      error = \"invalid email or password\"\n    }  else {\n      return error\n    }\n    this.errorToast = toast.error(\n      \"Login Failed: \" + error,\n      {\n        position: toast.POSITION.TOP_LEFT,\n        autoClose: false\n      }\n    );\n  };\n\n  render() {\n\n    const responseGoogle = response => {\n      console.log(response);\n      this.signin(response, \"google\");\n    };\n    const { from } = this.props.location.state || { from: { pathname: '/' } }\n    const { redirectToReferrer } = this.state\n\n    if (redirectToReferrer === true) {\n      return <Redirect to={from} />\n    }\n    return (\n      <div className=\"auth-page d-flex\">\n        <AuthBackground />\n        <div className=\"authy\">\n          <div className=\"m-auto bg-white auth-page-card col-lg-7 col-md-8\">\n            <h2 className=\"auth-card-title text-center mb-3\">\n              Sign Into Your GClout Account\n            </h2>\n            <div className=\"row --with-divider\">\n              <div className=\"col-md-6\">\n                <form\n                  className=\"auth-form mb-4\"\n                  onSubmit={this.postData.bind(this)}\n                >\n                  <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email address</label>\n                    <input\n                      type=\"email\"\n                      className=\"form-control\"\n                      name=\"email\"\n                      placeholder=\"Email address\"\n                      onChange={this.dataChange.bind(this)}\n                      value={this.state.email}\n                      required\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      name=\"password\"\n                      onChange={this.dataChange.bind(this)}\n                      value={this.state.password}\n                      placeholder=\"Password\"\n                      required\n                    />\n                  </div>\n                  <button className=\"btn btn-block btn-gclout-blue\">\n                    {this.state.loading ? (\n                      <i className=\"fas fa-circle-notch fa-spin\" />\n                    ) : (\n                        \"Sign in\"\n                      )}\n                  </button>\n                  <div className=\"form-group mt-2 d-flex\">\n                    <div className=\"form-check\">\n                      <input className=\"mr-2\" type=\"checkbox\" />\n                      <label htmlFor=\"remember\" className=\"form-check-label\">\n                        Remember me\n                      </label>\n                    </div>\n                    <Link\n                      to=\"/forgot-password\"\n                      className=\"auth-page-link text-right\"\n                      style={{ width: \"55%\" }}\n                    >\n                      Forgot password\n                    </Link>\n                  </div>\n                </form>\n              </div>\n              <div className=\"vertical-divider\">OR</div>\n              <div className=\"col-md-6\">\n                <div className=\"social-buttons\">\n                  <button className=\"social-button-facebook btn btn-block\">\n                    <i className=\"fab fa-facebook-f\" />\n                    Facebook\n                  </button>\n                  <button className=\"social-button-twitter btn btn-block\">\n                    <i className=\"fab fa-twitter\" />\n                    Twitter\n                  </button>\n                  <GoogleLogin\n                    className=\"social-button-google btn btn-block\"\n                    clientId=\"721177315518-ebi0q400rdhuvphrkff962s5encqd3b4.apps.googleusercontent.com\"\n                    buttonText=\"Google\"\n                    onSuccess={responseGoogle}\n                    onFailure={responseGoogle}\n                  >\n                    <i className=\"fab fa-google\" /> Google\n                    </GoogleLogin>\n                  <button className=\"social-button-linkedin btn btn-block\">\n                    <i className=\"fab fa-linkedin-in\" />\n                    Linkedin\n                  </button>\n                </div>\n                <p className=\"text-center\">\n                  Dont have an account?{\" \"}\n                  <Link className=\"auth-page-link\" to=\"/register\">\n                    Sign up\n                  </Link>{\" \"}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default Login;"],"sourceRoot":""}