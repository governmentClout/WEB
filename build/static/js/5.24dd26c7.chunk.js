(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{563:function(e,t,o){},615:function(e,t,o){"use strict";var n=o(0),a=o.n(n),s=(o(597),o(616),o(80)),r=o.n(s),l=o(152);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,o){return t&&u(e.prototype,t),o&&u(e,o),e}function m(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?g(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var b=function(e){function t(e){var o;return c(this,t),w(g(g(o=m(this,d(t).call(this,e)))),"updatePosts",function(){return o.props.updatePosts()}),o.state={showNewPost:!1,showNewArticle:!1,showNewPoll:!1},o.newPostToggle=o.newPostToggle.bind(g(g(o))),o.newArticleToggle=o.newArticleToggle.bind(g(g(o))),o.newPollToggle=o.newPollToggle.bind(g(g(o))),o.closeAll=o.closeAll.bind(g(g(o))),o}return h(t,n["Component"]),p(t,[{key:"newPostToggle",value:function(){(this.state.showNewArticle||this.state.showNewPoll)&&this.setState({showNewArticle:!1,showNewPoll:!1});var e=this.state.showNewPost;this.setState({showNewPost:!e})}},{key:"newPollToggle",value:function(){(this.state.showNewPost||this.state.showNewArticle)&&this.setState({showNewArticle:!1,showNewPost:!1});var e=this.state.showNewPoll;this.setState({showNewPoll:!e})}},{key:"newArticleToggle",value:function(){(this.state.showNewPost||this.state.showNewPoll)&&this.setState({showNewPost:!1,showNewPoll:!1});var e=this.state.showNewArticle;this.setState({showNewArticle:!e})}},{key:"closeAll",value:function(){this.setState({showNewPost:!1,showNewArticle:!1,showNewPoll:!1})}},{key:"render",value:function(){return a.a.createElement("div",{className:"poll"!==this.props.type?"make-post":"make-post not-rounded"},a.a.createElement("div",{className:"make-post-header d-flex"},"poll"!==this.props.type?a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"btn btn-tab",onClick:this.newPostToggle},a.a.createElement("i",{className:"fas fa-file text-gclout-blue",style:{marginRight:"10px"}}),"Post"),a.a.createElement("button",{className:"btn btn-tab",onClick:this.newArticleToggle},a.a.createElement("i",{className:"fas fa-clipboard-list text-gclout-blue",style:{marginRight:"10px"}}),"Article")):a.a.createElement("button",{className:"btn btn-tab",onClick:this.newPollToggle},a.a.createElement("i",{className:"fas fa-poll text-gclout-blue",style:{marginRight:"10px"}}),"Poll"),this.state.showNewPost||this.state.showNewArticle||this.state.showNewPoll?a.a.createElement("p",{className:"text-right close-btn ml-auto align-self-center",onClick:this.closeAll},a.a.createElement("i",{className:"fas fa-times"})):""),"poll"!==this.props.type?a.a.createElement(a.a.Fragment,null,a.a.createElement(y,{updatePosts:this.updatePosts,show:this.state.showNewPost}),a.a.createElement(v,{updatePosts:this.updatePosts,show:this.state.showNewArticle})):a.a.createElement(E,{show:this.state.showNewPoll}))}}]),t}();t.a=b;var y=function(e){function t(e){var o;return c(this,t),w(g(g(o=m(this,d(t).call(this,e)))),"updatePostsNow",function(){return o.props.updatePosts()}),w(g(g(o)),"updateWordCount",function(e){if(o.setState({post:e.target.value}),""===o.state.post)o.setState({wordCount:0});else{var t=o.state.post.split(" ").length;o.setState({wordCount:t})}o.state.wordCount>100||0===o.state.wordCount?o.setState({disable:!1}):o.setState({disable:!0})}),w(g(g(o)),"showImageUploader",function(e){e.preventDefault();var t=o.state.uploadImages;o.setState({uploadImages:!t})}),w(g(g(o)),"onChange",function(e){switch(e.target.name){case"selectedFile":o.setState({selectedFile:e.target.files[0]});break;default:o.setState(w({},e.target.name,e.target.value))}}),w(g(g(o)),"fileSelected",function(e){o.setState({selectedFile:e.target.files[0],loaded:0})}),o.state={wordCount:0,post:"",uploadImages:!1,toProfile:!1,disable:!1,loading:!1,selectedFile:null,post_type:"",loaded:0,preview:""},o.updateWordCount=o.updateWordCount.bind(g(g(o))),o.onSubmit=o.onSubmit.bind(g(g(o))),o}return h(t,n["Component"]),p(t,[{key:"onSubmit",value:function(e){var t=this;this.setState({loading:!0});var o=sessionStorage.getItem("uuid"),n=sessionStorage.getItem("token");if(e.preventDefault(),null!==this.state.selectedFile){var a=this.state.selectedFile,s=new FormData;s.append("file",a),s.append("upload_preset","".concat(l.b)),r()({url:"".concat(l.c),method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:s,onUploadProgress:function(e){console.log(e.loaded/e.total),t.setState({loaded:ProgressEvent.loaded/ProgressEvent.total*1})}}).then(function(e){t.setState({preview:e.data.secure_url});var a={post:t.state.post,post_type:"post",attachment:e.data.secure_url};console.log(a),r()({method:"post",url:"".concat(l.a,"/posts"),data:a,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:n,uuid:o}}).then(function(e){console.log(e.data),e.data.Success&&(t.setState({loading:!1,post:"",showNewPost:!1,selectedFile:null,loaded:0,preview:""}),t.updatePostsNow())})})}else{var i={post:this.state.post,post_type:"post"};console.log(i);var c="".concat(l.a,"/posts");r()({method:"post",url:c,data:i,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:n,uuid:o}}).then(function(e){e.data.Success?(t.setState({loading:!1,post:""}),t.updatePostsNow(),sessionStorage.setItem("message",e.data.Success)):console.log("login error"),console.log(e.data.Success)}).catch(function(e){t.setState({loading:!1,post:""}),console.log(e)})}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.show?"new-post-container show":"new-post-container"},a.a.createElement("div",{className:"pt-4 px-4 pb-5"},a.a.createElement("h5",null,"Post"),a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("div",{className:"form-group"},a.a.createElement("input",{type:"file",ref:function(t){return e.fileInput=t},onChange:this.fileSelected,style:{display:"none"}}),a.a.createElement("button",{onClick:function(){return e.fileInput.click()}},"Select Photo"),a.a.createElement("div",null,a.a.createElement("img",{src:this.state.preview})," ")),a.a.createElement("div",{className:"form-group"},a.a.createElement("textarea",{className:this.state.wordCount<100?"form-control":"form-control border-red",rows:"4",name:"post",onChange:this.updateWordCount,onCut:this.updateWordCount,onBlur:this.updateWordCount,onPaste:this.updateWordCount,value:this.state.post,placeholder:"Type post here...",required:!0})),a.a.createElement("p",{className:"text-right mb-0"},100-this.state.wordCount," ",""," words left"),a.a.createElement("div",{className:"d-flex"},a.a.createElement("button",{className:"btn btn-gclout-blue mr-2",style:{marginBottom:"0"},type:"submit"},this.state.loading?a.a.createElement("i",{className:"fas fa-circle-notch fa-spin"}):"Share post"),a.a.createElement("button",{className:"btn btn-gclout-blue-outline",style:{marginBottom:"0"},onClick:this.showImageUploader,type:"button"},a.a.createElement("i",{className:"fas fa-camera mr-2"}),"Photo & Video")))))}}]),t}(),v=function(e){function t(e){var o;return c(this,t),w(g(g(o=m(this,d(t).call(this,e)))),"updatePostsNow",function(){return o.props.updatePosts()}),w(g(g(o)),"showImageUploader",function(e){e.preventDefault();var t=o.state.uploadImages;o.setState({uploadImages:!t})}),w(g(g(o)),"fileSelected",function(e){o.setState({selectedFile:e.target.files[0],loaded:0},function(){return console.log(o.state.selectedFile)})}),o.state={wordCount:0,article:"",title:"",uploadImages:!1,toProfile:!1,selectedFile:null,uploadedFileCloudinaryUrl:"",loaded:0,loading:!1,preview:""},o.updateWordCount=o.updateWordCount.bind(g(g(o))),o.onSubmit=o.onSubmit.bind(g(g(o))),o.onChange=o.onChange.bind(g(g(o))),o}return h(t,n["Component"]),p(t,[{key:"updateWordCount",value:function(e){if(this.setState({article:e.target.value}),""===this.state.article)this.setState({wordCount:0});else{var t=this.state.article.split(" ").length;this.setState({wordCount:t})}}},{key:"onChange",value:function(e){this.setState(w({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;this.setState({loading:!0});var o=sessionStorage.getItem("uuid"),n=sessionStorage.getItem("token");if(e.preventDefault(),null!==this.state.selectedFile){var a=this.state.selectedFile,s=new FormData;s.append("file",a),s.append("upload_preset","".concat(l.b)),r()({url:"".concat(l.c),method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:s,onUploadProgress:function(e){console.log(e.loaded/e.total),t.setState({loaded:ProgressEvent.loaded/ProgressEvent.total*1})}}).then(function(e){console.log(e.data.url),t.setState({preview:e.data.secure_url});var a={article:t.state.article,article_title:t.state.title,post_type:"article",attachment:e.data.secure_url};console.log(a),r()({method:"post",url:"".concat(l.a,"/articles"),data:a,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:n,uuid:o}}).then(function(e){console.log(e.data),e.data.Success&&(t.setState({loading:!1,article:"",title:"",newArticleToggle:!1,selectedFile:null,loaded:0,preview:""}),t.updatePostsNow())})})}else{var i={article:this.state.article,article_title:this.state.title,post_type:"article"};console.log(i);var c="".concat(l.a,"/articles");console.log(c),r()({method:"post",url:c,data:i,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:n,uuid:o}}).then(function(e){console.log(e.data),t.setState({loading:!1,article:"",title:""}),t.updatePostsNow(),e.data.Success?(t.setState({toProfile:!0,article:"",title:""}),sessionStorage.setItem("message",e.data.Success)):console.log("login error"),console.log(e.data.Success)}).catch(function(e){t.setState({loading:!1,post:""}),console.log(e)})}}},{key:"render",value:function(){var e=this,t=this.state.loading;return a.a.createElement("div",{className:this.props.show?"new-post-container show":"new-post-container"},a.a.createElement("div",{className:"pt-4 px-4 pb-5"},a.a.createElement("h5",null,"Article"),a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("div",{className:"form-group"},a.a.createElement("input",{type:"file",ref:function(t){return e.fileInput=t},onChange:this.fileSelected,style:{display:"none"}}),a.a.createElement("button",{onClick:function(){return e.fileInput.click()}},"Select Photo"),a.a.createElement("div",null," ",a.a.createElement("img",{src:this.state.preview})," ")),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"article-title"},"Title"),a.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Title of article ...",value:this.state.title,onChange:this.onChange})),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"new_article"},"Article"),a.a.createElement("textarea",{className:"form-control",rows:"4",name:"article",onChange:this.updateWordCount,value:this.state.article,placeholder:"Type article here..."})),a.a.createElement("p",{className:"text-right mb-0"},this.state.wordCount," ",""," words"),a.a.createElement("div",{className:"d-flex"},a.a.createElement("button",{className:"btn btn-gclout-blue mr-2",style:{marginBottom:"0"},type:"submit"},t?a.a.createElement("i",{className:"fas fa-circle-notch fa-spin"}):"Share Article")))))}}]),t}(),E=function(e){function t(e){var o;return c(this,t),(o=m(this,d(t).call(this,e))).state={wordCount:0,opinion:"",sector:"",expiry:""},o.onSubmit=o.onSubmit.bind(g(g(o))),o.onChange=o.onChange.bind(g(g(o))),o}return h(t,n["Component"]),p(t,[{key:"onChange",value:function(e){this.setState(w({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var o={opinion:this.state.opinion,sector:this.state.sector,expire_at:this.state.expiry};console.log(o);var n=sessionStorage.getItem("uuid"),a=sessionStorage.getItem("token");console.log(n,a),r()({method:"post",url:"http://api.gclout.com:3000/polls",data:o,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:a,uuid:n}}).then(function(e){console.log(e.data),t.getPolls(),t.setState({opinion:"",date:"",sector:""})}).catch(function(e){console.log(e)})}},{key:"componentWillMount",value:function(){this.getPolls()}},{key:"getPolls",value:function(){var e=this;r()({method:"get",url:"http://api.gclout.com:3000/polls",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:sessionStorage.getItem("token"),uuid:sessionStorage.getItem("uuid")}}).then(function(t){console.log(t.data),e.setState({polls:t.data})})}},{key:"render",value:function(){return a.a.createElement("div",{className:this.props.show?"new-post-container show":"new-post-container"},a.a.createElement("div",{className:"pt-4 px-4 pb-5"},a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Sector"),a.a.createElement("select",{name:"sector",className:"form-control",onChange:this.onChange,required:!0},a.a.createElement("option",{value:"economy"},"Economy"),a.a.createElement("option",{value:"infrastructure"},"Infrastructure"),a.a.createElement("option",{value:"education"},"Education"),a.a.createElement("option",{value:"politics"},"Politics"),a.a.createElement("option",{value:"security"},"Security"),a.a.createElement("option",{value:"agriculture"},"Agriculture"),a.a.createElement("option",{value:"technology"},"Technology"))),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Date"),a.a.createElement("input",{type:"date",className:"form-control",name:"expiry",value:this.state.expiry,onChange:this.onChange})),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Opininion"),a.a.createElement("textarea",{className:"form-control",rows:"4",name:"opinion",value:this.state.opinion,onChange:this.onChange,placeholder:"Type opinion here..."})),a.a.createElement("div",{className:"d-flex"},a.a.createElement("button",{className:"btn btn-gclout-blue mr-2",style:{marginBottom:"0"}},"Share poll")))))}}]),t}()},619:function(e,t,o){"use strict";var n=o(0),a=o.n(n),s=(o(652),o(80)),r=o.n(s);function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d=function(e){function t(e){var o,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=c(t).call(this,e),o=!a||"object"!==l(a)&&"function"!==typeof a?p(n):a,m(p(p(o)),"onKeyPress",function(e){if(13===e.which){var t=sessionStorage.getItem("uuid"),n=sessionStorage.getItem("token"),a={comment:o.state.comment,ref:o.props.postID};console.log(a),r()({method:"POST",url:"http://api.gclout.com:3000/comments",data:a,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:n,uuid:t}}).then(function(e){console.log(e.data),o.setState({comment:""})})}}),o.state={comment:"",ref:""},o.onChange=o.onChange.bind(p(p(o))),o.onKeyPress=o.onKeyPress.bind(p(p(o))),o}var o,s,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,n["Component"]),o=t,(s=[{key:"onChange",value:function(e){this.setState(m({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.show?"comment-input-wrapper":"comment-input-wrapper hidden"},a.a.createElement("div",{className:"comment-owner-wrapper"},a.a.createElement("img",{className:"comment-owner",src:"https://res.cloudinary.com/plushdeveloper/image/upload/v1540898186/profile_eyjfnd.jpg",alt:"comment-owner"})),a.a.createElement("input",{onKeyPress:this.onKeyPress,type:"text",onSubmit:this.onSubmit,name:"comment",className:"form-control",placeholder:"write a comment here...",value:this.state.comment,onChange:this.onChange,onClick:function(){return e.props.postID}}))}}])&&i(o.prototype,s),d&&i(o,d),t}();t.a=d},710:function(e,t,o){"use strict";var n=o(0),a=o.n(n),s=(o(597),o(616)),r=o(80),l=o.n(r),i=o(28),c=o(617),u=o.n(c),p=o(711),m=o.n(p),d=o(618),h=o.n(d);function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,o){return t&&w(e.prototype,t),o&&w(e,o),e}function y(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?N(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var k=function(e){function t(e){var o;return g(this,t),C(N(N(o=y(this,v(t).call(this,e)))),"showFilters",function(){var e=o.state.showFilters;o.setState({showFilters:!e})}),C(N(N(o)),"updatePosts",function(){return o.props.updatePosts()}),o.state={showNewPost:!1,showFilters:!1},o.newPostToggle=o.newPostToggle.bind(N(N(o))),o}return E(t,n["Component"]),b(t,[{key:"newPostToggle",value:function(){var e=this.state.showNewPost;this.setState({showNewPost:!e})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"make-post"},a.a.createElement("div",{className:"make-post-header d-flex"},a.a.createElement("button",{className:"btn btn-tab",onClick:this.newPostToggle},a.a.createElement(u.a,{className:"text-gclout-blue"}),"Post"),a.a.createElement("div",{className:"ml-auto align-self-center"},a.a.createElement(i.a,null,a.a.createElement(i.c,null,function(t){var o=t.ref;return a.a.createElement("button",{type:"button",ref:o,onClick:e.showFilters,className:"btn btn-white"},a.a.createElement(m.a,null)," ","Filters")}),a.a.createElement(i.b,{placement:"bottom"},function(t){var o=t.ref,n=t.style,s=t.placement,r=t.arrowProps;return a.a.createElement("div",{ref:o,style:n,"data-placement":s},a.a.createElement("div",{className:e.state.showFilters?"button-dropdown show":"button-dropdown"},a.a.createElement("ul",{className:"button-dropdown-list"},a.a.createElement("li",{className:"profile-dropdown-list-item",onClick:e.showFilters},a.a.createElement("button",{className:"button-dropdown-list-button"},"All")),a.a.createElement("li",{className:"profile-dropdown-list-item",onClick:e.showFilters},a.a.createElement("button",{className:"button-dropdown-list-button"},"Ministry")),a.a.createElement("li",{className:"profile-dropdown-list-item",onClick:e.showFilters},a.a.createElement("button",{className:"button-dropdown-list-button"},"Department")),a.a.createElement("li",{className:"profile-dropdown-list-item",onClick:e.showFilters},a.a.createElement("button",{className:"button-dropdown-list-button"},"Agency")))),a.a.createElement("div",{ref:r.ref,style:r.style}))})))),a.a.createElement(P,{updatePosts:this.updatePosts,show:this.state.showNewPost}))}}]),t}();t.a=k;var P=function(e){function t(e){var o;return g(this,t),C(N(N(o=y(this,v(t).call(this,e)))),"handleChange",function(e){o.setState(C({},e.target.name,e.target.value))}),C(N(N(o)),"updatePostsNow",function(){return o.props.updatePosts()}),C(N(N(o)),"updateWordCount",function(e){if(o.setState({post:e.target.value}),""===o.state.post)o.setState({wordCount:0});else{var t=o.state.post.split(" ").length;o.setState({wordCount:t})}0===o.state.wordCount?o.setState({disable:!1}):o.setState({disable:!0})}),C(N(N(o)),"showImageUploader",function(e){e.preventDefault();var t=o.state.uploadImages;o.setState({uploadImages:!t})}),o.state={wordCount:0,post:"",uploadImages:!1,toProfile:!1,disable:!1,loading:!1,class:"",department:""},o.updateWordCount=o.updateWordCount.bind(N(N(o))),o.onSubmit=o.onSubmit.bind(N(N(o))),o}return E(t,n["Component"]),b(t,[{key:"onSubmit",value:function(e){var t=this;this.setState({loading:!0});var o=sessionStorage.getItem("uuid"),n=sessionStorage.getItem("token");e.preventDefault();var a={post:this.state.post};l()({method:"post",url:"http://api.gclout.com:3000/posts",data:a,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:n,uuid:o}}).then(function(e){t.setState({loading:!1,post:""}),t.updatePostsNow(),e.data.Success?sessionStorage.setItem("message",e.data.Success):console.log("login error"),console.log(e.data.Success)}).catch(function(e){t.setState({loading:!1,post:""}),console.log(e)})}},{key:"render",value:function(){return a.a.createElement("div",{className:this.props.show?"new-post-container show":"new-post-container"},a.a.createElement("div",{className:"pt-4 px-4 pb-5"},a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-md"},a.a.createElement("label",{htmlFor:"class"},"Pick a class"),a.a.createElement("select",{name:"class",className:"form-control",onChange:this.handleChange,required:!0},a.a.createElement("option",{value:"Economy"},"Economy"),a.a.createElement("option",{value:"Infrastructure"},"Infrastructure"),a.a.createElement("option",{value:"Education"},"Education"),a.a.createElement("option",{value:"Politics"},"Politics"),a.a.createElement("option",{value:"Security"},"Security"),a.a.createElement("option",{value:"Agriculture"},"Agriculture"),a.a.createElement("option",{value:"Technology"},"Technology"),a.a.createElement("option",{value:"Economy"},"Economy"))),a.a.createElement("div",{className:"form-group col-md"},a.a.createElement("label",{htmlFor:"department"},"State"),a.a.createElement("select",{name:"department",className:"form-control",onChange:this.handleChange,required:!0},a.a.createElement("option",{value:"ministry"},"Ministry"),a.a.createElement("option",{value:"department"},"Department"),a.a.createElement("option",{value:"agency"},"Agency")))),a.a.createElement("h6",null,"Post"),a.a.createElement("div",{className:"form-group"},a.a.createElement("textarea",{className:"form-control",rows:"4",name:"post",onChange:this.updateWordCount,onCut:this.updateWordCount,onBlur:this.updateWordCount,onPaste:this.updateWordCount,value:this.state.post,placeholder:"Type post here...",required:!0})),a.a.createElement("p",{className:"text-right mb-0"},this.state.wordCount," ",""," words"),a.a.createElement(s.a,{showUploader:this.state.uploadImages}),a.a.createElement("div",{className:"d-flex"},a.a.createElement("button",{className:"btn btn-gclout-blue mr-2",style:{marginBottom:"0"},disabled:!this.state.disable},this.state.loading?a.a.createElement("i",{className:"fas fa-circle-notch fa-spin"}):"Share post"),a.a.createElement("button",{className:"btn btn-gclout-blue-outline",style:{marginBottom:"0"},onClick:this.showImageUploader,type:"button"},a.a.createElement(h.a,{className:"text-gclout-blue"}),"Photo & Video")))))}}]),t}()},715:function(e,t,o){"use strict";var n=o(0),a=o.n(n),s=o(2),r=o.n(s),l=(o(587),o(80)),i=o.n(l),c=o(152),u=o(712),p=o.n(u),m=o(713),d=o.n(m),h=o(201),f=o.n(h),g=o(28);function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var N=function(e){function t(){var e,o,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,n=y(t).call(this),e=!n||"object"!==w(n)&&"function"!==typeof n?E(o):n,S(E(E(e)),"openDropup",function(){var t=e.state.showDropup;e.setState({showDropup:!t})}),S(E(E(e)),"showComment",function(){e.props.showComment()}),S(E(E(e)),"likePost",function(){var t=sessionStorage.getItem("uuid"),o=sessionStorage.getItem("token");e.setState({liked:!0});var n=e.props.postID,a={post:e.props.postID},s="http://api.gclout.com:3000/reactions/"+n;i()({method:"post",url:s,data:a,mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:o,uuid:t}}).then(function(t){e.showLikesCount()})}),e.state={like:"",likes:[],comments:0,comment:[],liked:!1,showDropup:!1},e}var o,s,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,n["Component"]),o=t,(s=[{key:"componentWillMount",value:function(){this.showLikesCount(),this.showCommentsCount()}},{key:"showLikesCount",value:function(){var e=this,t=sessionStorage.getItem("uuid"),o=sessionStorage.getItem("token"),n="http://api.gclout.com:3000/reactions/"+this.props.postID;i()({method:"get",url:n,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:o,uuid:t}}).then(function(t){e.setState({likes:t.data[0].reactions})})}},{key:"showCommentsCount",value:function(){var e=this,t=sessionStorage.getItem("uuid"),o=sessionStorage.getItem("token"),n="".concat(c.a,"/comments/")+this.props.postID;i()({method:"get",url:n,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:o,uuid:t}}).then(function(t){e.setState({comment:t.data[0].comment.length})})}},{key:"registerShare",value:function(){var e=this.props.postID,t="".concat(c.a,"/shares/").concat(e),o={post:e},n=sessionStorage.getItem("uuid"),a={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:sessionStorage.getItem("token"),uuid:n};i()({method:"post",url:t,data:o,mode:"no-cors",headers:a}).then(function(e){console.log(e.data)})}},{key:"render",value:function(){var e=this,t=this.state,o=t.likes,n=t.comment,s=t.liked;return a.a.createElement("div",{className:"post-actions-container"},a.a.createElement("button",{className:s?"post-action active":"post-action avtive",onClick:function(){return e.likePost(e.props.postID)},onLoad:this.showLikesCount.bind(this,this.props.postID)},a.a.createElement(p.a,null),o," ","  ","  like",o<=1?"":"s"),a.a.createElement("button",{className:"post-action",onLoad:this.showCommentsCount.bind(this,this.props.postID),onClick:this.showComment},a.a.createElement(d.a,null),n," "," "," comment",n<=1?"":"s"),a.a.createElement(g.a,null,a.a.createElement(g.c,null,function(t){var o=t.ref;return a.a.createElement("button",{type:"button",ref:o,className:"post-action",onClick:e.openDropup},a.a.createElement(f.a,{className:"flipped-reply"})," "," Share")}),a.a.createElement(g.b,{placement:"bootom-end"},function(t){var o=t.ref,n=t.style,s=t.placement,r=t.arrowProps;return a.a.createElement("div",{ref:o,style:n,"data-placement":s},a.a.createElement("div",{className:e.state.showDropup?"dropup show":"dropup"},a.a.createElement("ul",{className:"dropup-list"},a.a.createElement("li",{className:"dropup-list-item",onClick:e.openDropup},a.a.createElement("button",{onClick:function(){return e.registerShare(e.props.postID)}},a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.facebook.com/sharer/sharer.php?u=https://dev.gclout.com/activity/".concat(e.props.postID)},a.a.createElement("i",{className:"fab fa-facebook-f"})))),a.a.createElement("li",{className:"dropup-list-item",onClick:e.openDropup},a.a.createElement("button",{onClick:function(){return e.registerShare(e.props.postID)}},a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/shareArticle?mini=true&url=https://www.dev.gclout.com/activity/".concat(e.props.postID,"&title=").concat(e.props.post)},a.a.createElement("i",{className:"fab fa-linkedin"})))),a.a.createElement("li",{className:"dropup-list-item",onClick:e.openDropup},a.a.createElement("button",{onClick:function(){return e.registerShare(e.props.postID)}},a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/intent/tweet?text=".concat(e.props.post,"&url=https://www.dev.gclout.com/activity/").concat(e.props.postID)},a.a.createElement("i",{className:"fab fa-twitter"})))))),a.a.createElement("div",{ref:r.ref,style:r.style}))})))}}])&&b(o.prototype,s),r&&b(o,r),t}(),C=o(619),k=o(916);function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var j=function(e){function t(e){var o,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=T(t).call(this,e),o=!a||"object"!==P(a)&&"function"!==typeof a?O(n):a,x(O(O(o)),"likePost",function(e){var t=sessionStorage.getItem("uuid"),o=sessionStorage.getItem("token"),n={post:e},a="".concat(c.a,"/reactions/")+e;i()({method:"post",url:a,data:n,mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:o,uuid:t}})}),x(O(O(o)),"showComment",function(){var e=o.state.showComment;o.setState({showComment:!e})}),x(O(O(o)),"onKeyPress",function(e){if(13===e.which){var t=sessionStorage.getItem("uuid"),n=sessionStorage.getItem("token"),a={comment:o.state.comment,ref:o.props.postID};console.log(a),i()({method:"POST",url:"http://api.gclout.com:3000/comments",data:a,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:n,uuid:t}}).then(function(e){console.log(e.data),o.setState({comment:""})})}}),o.state={post:"",postId:"",photo:"",loading:!1,firstName:"",lastName:"",showComment:!1,likes:"",comments:"",uuid:"",icon:"",comment:"",ref:"",reactionid:""},o.onChange=o.onChange.bind(O(O(o))),o.onKeyPress=o.onKeyPress.bind(O(O(o))),o}var o,s,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,n["Component"]),o=t,(s=[{key:"registerShare",value:function(){var e=this.state.postId,t="".concat(c.a,"/shares/").concat(e),o={post:e},n=sessionStorage.getItem("uuid"),a={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:sessionStorage.getItem("token"),uuid:n};i()({method:"post",url:t,data:o,mode:"no-cors",headers:a}).then(function(e){console.log(e.data)})}},{key:"displayLike",value:function(){var e=sessionStorage.getItem("uuid"),t=sessionStorage.getItem("token"),o=this.state.uuid,n=this.state.postId,a="".concat(c.a,"/reactions/").concat(n),s={post:this.state.postId};if(console.log(s),console.log(n),console.log(a),console.log(e),console.log(o),console.log(t),e!==o)console.log("you never like am"),i()({method:"post",url:a,data:s,mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:t,uuid:e}}).then(function(e){console.log(e.data)});else{var r={crossDomain:!0,token:t,uuid:o};i.a.delete("".concat(c.a,"/reactions/").concat(this.state.reactionid),{headers:r}).then(function(e){console.log(e.data)})}}},{key:"componentWillMount",value:function(){this.showLikesCount()}},{key:"showLikesCount",value:function(){var e=this,t=sessionStorage.getItem("uuid"),o=sessionStorage.getItem("token"),n="http://api.gclout.com:3000/reactions/"+this.props.postID;i()({method:"get",url:n,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",token:o,uuid:t}}).then(function(t){e.setState({likes:t.data[0].reactions})})}},{key:"componentDidMount",value:function(){this.fetchPost(),this.registerView()}},{key:"registerView",value:function(){var e=this.props.match.params.id,t="".concat(c.a,"/views/").concat(e),o={post:e};i()({method:"post",url:t,data:o,headers:{token:sessionStorage.getItem("token"),uuid:sessionStorage.getItem("uuid")}}).then(function(e){console.log(e.data)})}},{key:"fetchPost",value:function(){var e=this,t=this.props.match.params.id,o=this.props.pid;console.log(o);var n="".concat(c.a,"/posts/").concat(t);this.setState({loading:!0}),i()({method:"get",url:n,headers:{token:sessionStorage.getItem("token"),uuid:sessionStorage.getItem("uuid")}}).then(function(t){console.log(t.data),console.log(t.data[0].user[0].uuid),console.log(t.data[0].reactions.length),console.log(t.data[0].reactions[0].uuid),e.setState({loading:!1,post:t.data[0].post.post,photo:t.data[0].user[0].photo,firstName:t.data[0].user[0].firstName,lastName:t.data[0].user[0].lastName,postId:t.data[0].post.uuid,likes:t.data[0].reactions.length,comments:t.data[0].comments.length,uuid:t.data[0].post.user})})}},{key:"onChange",value:function(e){this.setState(x({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this,t=this.state,o=t.post,n=t.likes,s=t.photo,r=(t.uuid,t.postId),l=t.loading,i=t.firstName,c=t.lastName,u=t.comments;return l?a.a.createElement("i",{className:"fas fa-spinner"}):a.a.createElement("div",{style:{marginBottom:"1em"}},a.a.createElement("div",{className:"post-container"},a.a.createElement("div",{className:"post-owner"},a.a.createElement("div",{className:"post-owner-image-wrapper"},a.a.createElement("img",{src:s,alt:"lol",className:"post-owner-image"})),a.a.createElement("div",{className:"post-owner-details"},a.a.createElement("p",null,i+" "+c),"sponsored"===this.props.postType?a.a.createElement("p",{className:"post-type"},"Sponsored"):"")),a.a.createElement("div",{className:"post-content"},a.a.createElement("p",null,o))),"sponsored"!==this.props.postType?a.a.createElement(a.a.Fragment,null," ",a.a.createElement("div",{className:"post-actions-container"},a.a.createElement("button",{className:"post-action",onClick:function(){return e.displayLike()}},n,"  like",1===n?"":"s"),a.a.createElement("button",{className:"post-action",onClick:function(){return e.registerShare(r)}}," ",a.a.createElement("i",{className:"far fa-comment"})," ",u," comment",1===u?"":"s"),a.a.createElement("button",{className:"post-action",onClick:function(){return e.registerShare(r)}}," ",a.a.createElement("i",{className:"fas fa-share"}),a.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=https://www.dev.gclout.com/activity/".concat(r)},"Fcaebook")),a.a.createElement("button",{className:"post-action",onClick:function(){return e.registerShare(r)}},a.a.createElement("i",{className:"fas fa-share"}),a.a.createElement("a",{target:"_blank",className:"twitter-share-button",href:"https://twitter.com/intent/tweet?text=".concat(o,"&url=https://www.dev.gclout.com/activity/").concat(r)},"Tweet")),a.a.createElement("button",{onClick:function(){return e.registerShare(r)},className:"post-action"},a.a.createElement("i",{className:"fas fa-share"}),a.a.createElement("a",{target:"_blank",href:"https://www.linkedin.com/shareArticle?mini=true&url=https://www.dev.gclout.com/activity/".concat(r,"&title=").concat(o)},"Linkedin"))),a.a.createElement(C.a,{onClick:function(){return console.log(r)},postID:r,show:this.state.showComment})," "):"")}}])&&I(o.prototype,s),r&&I(o,r),t}();x(j,"propTypes",{postType:r.a.string,media:r.a.bool}),x(j,"defaultProps",{postType:"simple-post",media:!1});function D(e){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,"a",function(){return R});var R=function(e){function t(){var e,o,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return n=this,a=(e=A(t)).call.apply(e,[this].concat(r)),o=!a||"object"!==D(a)&&"function"!==typeof a?L(n):a,B(L(L(o)),"state",{showComment:!1}),B(L(L(o)),"showComment",function(){var e=o.state.showComment;o.setState({showComment:!e})}),o}var o,s,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,n["Component"]),o=t,(s=[{key:"render",value:function(){this.props.post.post.uuid;return a.a.createElement("div",{style:{marginBottom:"1em"}},a.a.createElement(k.a,{to:"/activity/".concat(this.props.post.post.uuid),className:"post-link"},a.a.createElement("div",{className:"post-container"},a.a.createElement("div",{className:"post-owner"},a.a.createElement("div",{className:"post-owner-image-wrapper"},this.props.post.user[0]?a.a.createElement("img",{src:this.props.post.user[0].photo,alt:"lol",className:"post-owner-image"}):a.a.createElement("p",null,"lol")),a.a.createElement("div",{className:"post-owner-details"},a.a.createElement("p",null,this.props.post.user[0]?this.props.post.user[0].firstName+" "+this.props.post.user[0].lastName:"undefined"),"sponsored"===this.props.postType?a.a.createElement("p",{className:"post-type"},"Sponsored"):"")),a.a.createElement("div",{className:"post-content"},a.a.createElement("p",null,this.props.post.post.post)))),"sponsored"!==this.props.postType?a.a.createElement(a.a.Fragment,null," ",a.a.createElement(N,{showComment:this.showComment,post:this.props.post.post.post,postID:this.props.post.post.uuid}),a.a.createElement(C.a,{postID:this.props.post.post.uuid,show:this.state.showComment})," "):"")}}])&&F(o.prototype,s),r&&F(o,r),t}();B(R,"propTypes",{postType:r.a.string,media:r.a.bool}),B(R,"defaultProps",{postType:"simple-post",media:!1})}}]);
//# sourceMappingURL=5.24dd26c7.chunk.js.map